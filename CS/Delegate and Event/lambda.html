<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=shift_jis">
<title>lambda expression (C#)</title>

<!-- Start for 'google-code-prettify' -->
<link href="../../prettify.css" rel="stylesheet" type="text/css">
<script src="../../prettify.js" type="text/javascript"></script>
<!-- End for 'google-code-prettify' -->

<link rel="stylesheet" href="../../design.css" type="text/css">

<style type="text/css">
.auto-style7 {
	font-weight: normal;
}
*{font-family:'Meiryo UI',Meiryo,'Segoe UI','Lucida Grande',Verdana,Arial,Helvetica,sans-serif!important;}
.auto-style8 {
	background-color: #CCCCCC;
}
.auto-style9 {
	background-color: #FFFF00;
}
</style>
</head>

<!-- Start for 'google-code-prettify' -->
<body onload="prettyPrint();">
<!-- End for 'google-code-prettify' -->

<h1 class="auto-style7">
ラムダ式 (C#)</h1>
<p class="auto-style7">
C# 3.0 からラムダ式を導入しています。匿名メソッドよりも協力かつ柔軟に機能する仕組みです。</p>
<h2>
目次</h2>
<p>
<a href="#1._ラムダ式の基本">1. ラムダ式の基本</a><br><a href="#2._デリゲート型へ割り当てて実行">2. 
デリゲート型へ割り当てて実行</a><br><a href="#3._式ツリー型へ割り当てて実行">3. 式ツリー型へ割り当てて実行</a></p>
<p class="auto-style7">
&nbsp;</p>
<h2>
<a name="1._ラムダ式の基本">1. ラムダ式の基本</a></h2>
<p>ラムダ式は、簡潔に関数オブジェクトを記述する機能です。<br>以下のように記述します。</p>
<p class="auto-style8"><strong>( 入力パラメータ ) =&gt; { 式 または ステートメントブロック }</strong></p>
<p class="auto-style7">
&nbsp;</p>
<h2>
<a name="2._デリゲート型へ割り当てて実行">2. デリゲート型へ割り当てて実行</a></h2>
<p class="auto-style7">
デリゲート型へラムダ式を割り当てる例を以下に記載します。</p>

<pre class="prettyprint linenums">
using System;

namespace lambda_test
{
    class Program
    {
        delegate int del(int i);

        static void Main(string[] args)
        {
            del myDelegate = <span class="auto-style9">x =&gt; x * x;</span>
            int j = myDelegate(5);

            Console.WriteLine(&quot;result: &quot; + j);
            Console.ReadLine();
        }
    }
}</pre>
<p class="auto-style7">
&nbsp;</p>
<h2>
<a name="3._式ツリー型へ割り当てて実行">3. 式ツリー型へ割り当てて実行</a></h2>
<p class="auto-style7">
式ツリーのデータとしてラムダ式を割り当てる例を以下に示します。<span id="mt47" class="sentence" data-guid="445bf621aa4416d7df8042ed263f94fa" data-source="It also demonstrates how to turn the expression tree back into executable code by using the &lt;span&gt;&lt;span class=&quot;mtpsTagOuterHtml&quot; &gt;&lt;span&gt;Compile&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; method." xml:space="preserve"><sentencetext xmlns="http://www.w3.org/1999/xhtml"><br>
この例は、 Compile メソッドを使用して、式ツリーを実行可能コードに戻す方法も合わせて示しています。</sentencetext></span> <br>
(注) Expression は .NET3.5 以降で使用可能です。</p>

<pre class="prettyprint linenums">
using System;
using System.Linq.Expressions;

namespace lambda_test
{
    class Program
    {
        static void Main(string[] args)
        {
            Expression&lt;Func&lt;int,int&gt;&gt; myET = <span class="auto-style9">x =&gt; x * x;</span>
            Func&lt;int, int&gt; myDelegate2 = myET.Compile();
            int j = myDelegate2(5);

            Console.WriteLine(&quot;result: &quot; + j);
            Console.ReadLine();
        }
    }
}</pre>
<p class="auto-style7">
&nbsp;</p>
<p class="auto-style7">
&nbsp;</p>
<p class="auto-style7">
参照URL：</p>
<ul>
	<li>
	<p class="auto-style7">
	<a href="https://msdn.microsoft.com/ja-jp/library/bb397687.aspx" target="_blank">https://msdn.microsoft.com/ja-jp/library/bb397687.aspx</a></p>
	</li>
</ul>
<hr>
<p> <font face="Meiryo UI">記載： 2015年6月9日 木下英俊</font></p>
</body>
</html>
