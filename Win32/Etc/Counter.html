<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="author" content="kinoshita hidetoshi (木下 英俊)">
  <meta name="description" content="木下英俊が自身のためにプログラムメモを残すことを目的に作成したページです。">
  <meta name="keywords" content="">
  <!-- キャッシュ無効化 -->
  <meta http-equiv="Cache-Control" content="no-cache">
	
  <!-- タイトル -->
  <title>[Win32] Counter | Programing Items</title>
	
  <!-- ファビコン -->
  <link rel="shortcut icon" href="../../favicon.ico">
  
  <!-- CSS -->
  <link href="https://unpkg.com/ress/dist/ress.min.css" rel="stylesheet">
	<link rel="stylesheet" href="../../design.css" type="text/css">
  
	<!-- Start for 'google-code-prettify' -->
	<link href="../../prettify/styles/desert.css" rel="stylesheet" type="text/css">
	<script src="../../prettify/prettify.js" type="text/javascript"></script>
	<!-- End for 'google-code-prettify' -->	
	
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-V2DZQK54C2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'G-V2DZQK54C2');
  </script>
  <!-- Global site tag (gtag.js) - Google Analytics -->

  <style type="text/css">
    .auto-style7 {
    	font-weight: normal;
    }
    .auto-style8 {
    	border-collapse: collapse;
    	text-align: justify;
    	font-size: 10.0pt;
    	font-family: Century;
    	border: 1.0pt solid windowtext;
    }
    .auto-style9 {
    	background-color: #505000;
    }
  </style>
</head>

<body onload="prettyPrint();">

<h1 class="auto-style7">
[Win32] Counter</h1>
<p class="auto-style7">
職場の若手向けお勉強テーマとして作成しました。Win32 で下記の機能を実現しなさい、という内容です。</p>
<p class="auto-style7">
&nbsp;</p>
<div class="mokuji">
  <nav>
	<h2>目次</h2>
	<p><a href="#1._要求仕様">1. 要求仕様</a></p>
	<p>&nbsp;&nbsp; <a href="#1.1._機能仕様">1.1. 機能仕様</a></p>
	<p>&nbsp;&nbsp; <a href="#1.2._画面仕様">1.2. 画面仕様</a></p>
	<p><a href="#2._プログラム実装">2. プログラム実装</a></p>
	<p>&nbsp;&nbsp; <a href="#プログラムダウンロード">プログラムダウンロード</a></p>
	<p>&nbsp;</p>
	<p><a href="#ライセンス">ライセンス</a></p>
	<p><a href="#参考">参考</a></p>
  </nav>
</div>
<p class="auto-style7">
&nbsp;</p>
<p class="auto-style7">&nbsp;</p>

<h2><a name="1._要求仕様">1. 要求仕様</a></h2>
<h3><a name="1.1._機能仕様">1.1. 機能仕様</a></h3>

<ul>
	<li>アプリケーションはカウンタの値を表示する機能を持つ。</li>
	<li>アプリケーション起動時のカウンタ初期値を０とする。</li>
	<li>ボタンAを押すと、カウンタの値を１加算する。</li>
	<li>ボタンBを押すと、カウンタの値を1減算する。</li>
	<li>ボタンCを押すと、カウンタの値を０にクリアする。</li>
	<li>
	ボタンDを押すと、終了確認ダイアログを表示し、はい(またはYes)を押下したらアプリケーションを終了する。いいえ（またはNo）を押下した場合はアプリケーションを終了せずに動作を継続する。</li>
	<li>カウンタの値範囲を０～１０とする。</li>
	<li>カウンタが0のとき、”-”ボタンを無効化すること。</li>
	<li>カウンタが 10 のとき、”+”ボタンを無効化すること。</li>
</ul>
<p>&nbsp;</p>
<h3><a name="1.2._画面仕様">1.2. 画面仕様</a></h3>
<p>画面仕様は以下の通り。記載事項以外は自由に設計のこと。</p>
<ul>
	<li>
	<p class="MsoNormal"><span style="font-family: &quot;Meiryo UI&quot;">フォント：<span lang="EN-US"> 
	Arial<o:p></o:p></span></span></p>
	</li>
</ul>
<p class="MsoNormal">
<o:p><img alt="" height="348" src="Counter/clip_image001.gif" width="564"></o:p></p>
<p>
<table border="1" cellpadding="0" cellspacing="0" class="auto-style8" style="mso-border-alt: solid windowtext .5pt; mso-yfti-tbllook: 480; mso-padding-alt: 0mm 5.4pt 0mm 5.4pt; mso-border-insideh: .5pt solid windowtext; mso-border-insidev: .5pt solid windowtext; text-justify: inter-ideograph;">
	<tr style="mso-yfti-irow: 0; mso-yfti-firstrow: yes">
		<td style="width: 32.4pt; border: solid windowtext 1.0pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt" width="54">
		<p class="MsoNormal"><span style="font-family: &quot;Meiryo UI&quot;">項番<span lang="EN-US"><o:p></o:p></span></span></p>
		</td>
		<td style="width: 90.0pt; border: solid windowtext 1.0pt; border-left: none; mso-border-left-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt" width="150">
		<p class="MsoNormal"><span style="font-family: &quot;Meiryo UI&quot;">概要<span lang="EN-US"><o:p></o:p></span></span></p>
		</td>
		<td style="width: 51.3pt; border: solid windowtext 1.0pt; border-left: none; mso-border-left-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt" width="86">
		<p class="MsoNormal"><span style="font-family: &quot;Meiryo UI&quot;">
		ｺﾝﾄﾛｰﾙ<span lang="EN-US"><o:p></o:p></span></span></p>
		</td>
		<td style="border-right: 1.0pt solid windowtext; border-top: 1.0pt solid windowtext; border-bottom: 1.0pt solid windowtext; width: 52pt; mso-border-left-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt; border-left-style: none; border-left-color: inherit; border-left-width: medium;">
		<p class="MsoNormal"><span style="font-family: &quot;Meiryo UI&quot;">
		ﾀﾌﾞ<o:p>ｵｰﾀﾞｰ</o:p></span></p>
		</td>
		<td style="border-right: 1.0pt solid windowtext; border-top: 1.0pt solid windowtext; border-bottom: 1.0pt solid windowtext; width: 148pt; mso-border-left-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt; border-left-style: none; border-left-color: inherit; border-left-width: medium;">
		<p class="MsoNormal"><span style="font-family: &quot;Meiryo UI&quot;">
		文字列、文字種別、他<span lang="EN-US"><o:p></o:p></span></span></p>
		</td>
		<td style="border-right: 1.0pt solid windowtext; border-top: 1.0pt solid windowtext; border-bottom: 1.0pt solid windowtext; width: 171pt; mso-border-left-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt; border-left-style: none; border-left-color: inherit; border-left-width: medium;">
		<p class="MsoNormal"><span style="font-family: &quot;Meiryo UI&quot;">他<span lang="EN-US"><o:p></o:p></span></span></p>
		</td>
	</tr>
	<tr style="mso-yfti-irow: 1">
		<td style="width: 32.4pt; border: solid windowtext 1.0pt; border-top: none; mso-border-top-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt" valign="top" width="54">
		<p class="MsoNormal">
		<span lang="EN-US" style="font-family: &quot;Meiryo UI&quot;">1<o:p></o:p></span></p>
		</td>
		<td style="width: 90.0pt; border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; mso-border-top-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt" valign="top" width="150">
		<p class="MsoNormal">
		<span lang="EN-US" style="font-family: &quot;Meiryo UI&quot;"><o:p>&nbsp;</o:p></span></p>
		</td>
		<td style="width: 51.3pt; border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; mso-border-top-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt" valign="top" width="86">
		<p class="MsoNormal">
		<span lang="EN-US" style="font-family: &quot;Meiryo UI&quot;">-<o:p></o:p></span></p>
		</td>
		<td style="width: 52pt; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; mso-border-top-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt; border-left-style: none; border-left-color: inherit; border-left-width: medium; border-top-style: none; border-top-color: inherit; border-top-width: medium;" valign="top">
		<p class="MsoNormal">
		<span lang="EN-US" style="font-family: &quot;Meiryo UI&quot;"><o:p>&nbsp;</o:p></span></p>
		</td>
		<td style="width: 148pt; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; mso-border-top-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt; border-left-style: none; border-left-color: inherit; border-left-width: medium; border-top-style: none; border-top-color: inherit; border-top-width: medium;" valign="top">
		<p class="MsoNormal">
		<span lang="EN-US" style="font-family: &quot;Meiryo UI&quot;">“Counter”<o:p></o:p></span></p>
		</td>
		<td style="width: 171pt; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; mso-border-top-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt; border-left-style: none; border-left-color: inherit; border-left-width: medium; border-top-style: none; border-top-color: inherit; border-top-width: medium;" valign="top">
		<p class="MsoNormal">
		<span lang="EN-US" style="font-family: &quot;Meiryo UI&quot;">Window</span><span style="font-family: &quot;Meiryo UI&quot;">サイズ：<span lang="EN-US">800</span>×<span lang="EN-US">600</span>以内<span lang="EN-US"><o:p></o:p></span></span></p>
		</td>
	</tr>
	<tr style="mso-yfti-irow: 2">
		<td style="width: 32.4pt; border: solid windowtext 1.0pt; border-top: none; mso-border-top-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt" valign="top" width="54">
		<p class="MsoNormal">
		<span lang="EN-US" style="font-family: &quot;Meiryo UI&quot;">2<o:p></o:p></span></p>
		</td>
		<td style="width: 90.0pt; border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; mso-border-top-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt" valign="top" width="150">
		<p class="MsoNormal"><span style="font-family: &quot;Meiryo UI&quot;">
		値表示部<span lang="EN-US"><o:p></o:p></span></span></p>
		</td>
		<td style="width: 51.3pt; border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; mso-border-top-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt" valign="top" width="86">
		<p class="MsoNormal">
		<span lang="EN-US" style="font-family: &quot;Meiryo UI&quot;">TextBox<o:p></o:p></span></p>
		</td>
		<td style="width: 52pt; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; mso-border-top-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt; border-left-style: none; border-left-color: inherit; border-left-width: medium; border-top-style: none; border-top-color: inherit; border-top-width: medium;" valign="top">
		<p class="MsoNormal">
		<span lang="EN-US" style="font-family: &quot;Meiryo UI&quot;">(*1)<o:p></o:p></span></p>
		</td>
		<td style="width: 148pt; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; mso-border-top-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt; border-left-style: none; border-left-color: inherit; border-left-width: medium; border-top-style: none; border-top-color: inherit; border-top-width: medium;" valign="top">
		<p class="MsoNormal">
		<span lang="EN-US" style="font-family: &quot;Meiryo UI&quot;">Number,
		</span><span style="font-family: &quot;Meiryo UI&quot;">値範囲<span lang="EN-US">:0</span>～<span lang="EN-US">10<o:p></o:p></span></span></p>
		</td>
		<td style="width: 171pt; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; mso-border-top-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt; border-left-style: none; border-left-color: inherit; border-left-width: medium; border-top-style: none; border-top-color: inherit; border-top-width: medium;" valign="top">
		<p class="MsoNormal"><span style="font-family: &quot;Meiryo UI&quot;">
		フォントサイズ：<span lang="EN-US">36pt<o:p></o:p></span></span></p>
		<p class="MsoNormal"><span style="font-family: &quot;Meiryo UI&quot;">
		センター表示<span lang="EN-US"><o:p></o:p></span></span></p>
		<p class="MsoNormal">
		<span lang="EN-US" style="font-family: &quot;Meiryo UI&quot;">ReadOnly<o:p></o:p></span></p>
		</td>
	</tr>
	<tr style="mso-yfti-irow: 3">
		<td style="width: 32.4pt; border: solid windowtext 1.0pt; border-top: none; mso-border-top-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt" valign="top" width="54">
		<p class="MsoNormal">
		<span lang="EN-US" style="font-family: &quot;Meiryo UI&quot;">3<o:p></o:p></span></p>
		</td>
		<td style="width: 90.0pt; border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; mso-border-top-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt" valign="top" width="150">
		<p class="MsoNormal">
		<span lang="EN-US" style="font-family: &quot;Meiryo UI&quot;">+1<o:p></o:p></span></p>
		</td>
		<td style="width: 51.3pt; border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; mso-border-top-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt" valign="top" width="86">
		<p class="MsoNormal">
		<span lang="EN-US" style="font-family: &quot;Meiryo UI&quot;">Button<o:p></o:p></span></p>
		</td>
		<td style="width: 52pt; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; mso-border-top-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt; border-left-style: none; border-left-color: inherit; border-left-width: medium; border-top-style: none; border-top-color: inherit; border-top-width: medium;" valign="top">
		<p class="MsoNormal">
		<span lang="EN-US" style="font-family: &quot;Meiryo UI&quot;">1<o:p></o:p></span></p>
		</td>
		<td style="width: 148pt; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; mso-border-top-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt; border-left-style: none; border-left-color: inherit; border-left-width: medium; border-top-style: none; border-top-color: inherit; border-top-width: medium;" valign="top">
		<p class="MsoNormal">
		<span lang="EN-US" style="font-family: &quot;Meiryo UI&quot;">“+”<o:p></o:p></span></p>
		</td>
		<td style="width: 171pt; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; mso-border-top-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt; border-left-style: none; border-left-color: inherit; border-left-width: medium; border-top-style: none; border-top-color: inherit; border-top-width: medium;" valign="top">
		<p class="MsoNormal"><span style="font-family: &quot;Meiryo UI&quot;">
		フォントサイズ：<span lang="EN-US">12pt<o:p></o:p></span></span></p>
		</td>
	</tr>
	<tr style="mso-yfti-irow: 4">
		<td style="width: 32.4pt; border: solid windowtext 1.0pt; border-top: none; mso-border-top-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt" valign="top" width="54">
		<p class="MsoNormal">
		<span lang="EN-US" style="font-family: &quot;Meiryo UI&quot;">4<o:p></o:p></span></p>
		</td>
		<td style="width: 90.0pt; border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; mso-border-top-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt" valign="top" width="150">
		<p class="MsoNormal">
		<span lang="EN-US" style="font-family: &quot;Meiryo UI&quot;">-1<o:p></o:p></span></p>
		</td>
		<td style="width: 51.3pt; border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; mso-border-top-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt" valign="top" width="86">
		<p class="MsoNormal">
		<span lang="EN-US" style="font-family: &quot;Meiryo UI&quot;">Button<o:p></o:p></span></p>
		</td>
		<td style="width: 52pt; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; mso-border-top-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt; border-left-style: none; border-left-color: inherit; border-left-width: medium; border-top-style: none; border-top-color: inherit; border-top-width: medium;" valign="top">
		<p class="MsoNormal">
		<span lang="EN-US" style="font-family: &quot;Meiryo UI&quot;">2<o:p></o:p></span></p>
		</td>
		<td style="width: 148pt; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; mso-border-top-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt; border-left-style: none; border-left-color: inherit; border-left-width: medium; border-top-style: none; border-top-color: inherit; border-top-width: medium;" valign="top">
		<p class="MsoNormal">
		<span lang="EN-US" style="font-family: &quot;Meiryo UI&quot;">“-“<o:p></o:p></span></p>
		</td>
		<td style="width: 171pt; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; mso-border-top-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt; border-left-style: none; border-left-color: inherit; border-left-width: medium; border-top-style: none; border-top-color: inherit; border-top-width: medium;" valign="top">
		<p class="MsoNormal"><span style="font-family: &quot;Meiryo UI&quot;">
		フォントサイズ：<span lang="EN-US">12pt<o:p></o:p></span></span></p>
		</td>
	</tr>
	<tr style="mso-yfti-irow: 5">
		<td style="width: 32.4pt; border: solid windowtext 1.0pt; border-top: none; mso-border-top-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt" valign="top" width="54">
		<p class="MsoNormal">
		<span lang="EN-US" style="font-family: &quot;Meiryo UI&quot;">5<o:p></o:p></span></p>
		</td>
		<td style="width: 90.0pt; border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; mso-border-top-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt" valign="top" width="150">
		<p class="MsoNormal">
		<span lang="EN-US" style="font-family: &quot;Meiryo UI&quot;">0</span><span style="font-family: &quot;Meiryo UI&quot;">クリア<span lang="EN-US"><o:p></o:p></span></span></p>
		</td>
		<td style="width: 51.3pt; border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; mso-border-top-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt" valign="top" width="86">
		<p class="MsoNormal">
		<span lang="EN-US" style="font-family: &quot;Meiryo UI&quot;">Button<o:p></o:p></span></p>
		</td>
		<td style="width: 52pt; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; mso-border-top-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt; border-left-style: none; border-left-color: inherit; border-left-width: medium; border-top-style: none; border-top-color: inherit; border-top-width: medium;" valign="top">
		<p class="MsoNormal">
		<span lang="EN-US" style="font-family: &quot;Meiryo UI&quot;">3<o:p></o:p></span></p>
		</td>
		<td style="width: 148pt; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; mso-border-top-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt; border-left-style: none; border-left-color: inherit; border-left-width: medium; border-top-style: none; border-top-color: inherit; border-top-width: medium;" valign="top">
		<p class="MsoNormal">
		<span lang="EN-US" style="font-family: &quot;Meiryo UI&quot;">“Clear”<o:p></o:p></span></p>
		</td>
		<td style="width: 171pt; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; mso-border-top-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt; border-left-style: none; border-left-color: inherit; border-left-width: medium; border-top-style: none; border-top-color: inherit; border-top-width: medium;" valign="top">
		<p class="MsoNormal"><span style="font-family: &quot;Meiryo UI&quot;">
		フォントサイズ：<span lang="EN-US">12pt<o:p></o:p></span></span></p>
		</td>
	</tr>
	<tr style="mso-yfti-irow: 6; mso-yfti-lastrow: yes">
		<td style="border-left: 1.0pt solid windowtext; border-right: 1.0pt solid windowtext; border-bottom: 1.0pt solid windowtext; width: 32.4pt; mso-border-top-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt; height: 69px; border-top-style: none; border-top-color: inherit; border-top-width: medium;" valign="top" width="54">
		<p class="MsoNormal">
		<span lang="EN-US" style="font-family: &quot;Meiryo UI&quot;">6<o:p></o:p></span></p>
		</td>
		<td style="width: 90.0pt; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; mso-border-top-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt; height: 69px; border-left-style: none; border-left-color: inherit; border-left-width: medium; border-top-style: none; border-top-color: inherit; border-top-width: medium;" valign="top" width="150">
		<p class="MsoNormal"><span style="font-family: &quot;Meiryo UI&quot;">
		プログラム<span lang="EN-US"><o:p></o:p></span></span></p>
		<p class="MsoNormal"><span style="font-family: &quot;Meiryo UI&quot;">
		終了ボタン<span lang="EN-US"><o:p></o:p></span></span></p>
		</td>
		<td style="width: 51.3pt; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; mso-border-top-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt; height: 69px; border-left-style: none; border-left-color: inherit; border-left-width: medium; border-top-style: none; border-top-color: inherit; border-top-width: medium;" valign="top" width="86">
		<p class="MsoNormal">
		<span lang="EN-US" style="font-family: &quot;Meiryo UI&quot;">Button<o:p></o:p></span></p>
		</td>
		<td style="width: 52pt; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; mso-border-top-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt; height: 69px; border-left-style: none; border-left-color: inherit; border-left-width: medium; border-top-style: none; border-top-color: inherit; border-top-width: medium;" valign="top">
		<p class="MsoNormal">
		<span lang="EN-US" style="font-family: &quot;Meiryo UI&quot;">0<o:p></o:p></span></p>
		</td>
		<td style="width: 148pt; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; mso-border-top-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt; height: 69px; border-left-style: none; border-left-color: inherit; border-left-width: medium; border-top-style: none; border-top-color: inherit; border-top-width: medium;" valign="top">
		<p class="MsoNormal">
		<span lang="EN-US" style="font-family: &quot;Meiryo UI&quot;">“Quit”<o:p></o:p></span></p>
		</td>
		<td style="width: 171pt; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; mso-border-top-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-alt: solid windowtext .5pt; padding: 0mm 5.4pt 0mm 5.4pt; height: 69px; border-left-style: none; border-left-color: inherit; border-left-width: medium; border-top-style: none; border-top-color: inherit; border-top-width: medium;" valign="top">
		<p class="MsoNormal"><span style="font-family: &quot;Meiryo UI&quot;">
		フォントサイズ：<span lang="EN-US">12pt<o:p></o:p></span></span></p>
		</td>
	</tr>
</table>
</p>
<p>
(*1) TabStop 
を False に設定</p>
<p>
&nbsp;</p>
<p>
&nbsp;</p>
<h2>
<a name="2._プログラム実装">2. プログラム実装</a></h2>
<p>
要求仕様に記載した内容を Win32 で実装してみます。</p>
<p>
&nbsp;</p>
<h4>[環境]</h4>
<p>動作環境： Windows XP または Windows7</p>
<p>開発環境： Visual Studio 2008 以降</p>
<p>開発言語： Win32</p>
<p>&nbsp;</p>
<p>実際に私が作成したプログラムの画面は下図の通り。</p>
<p><img alt="" height="321" src="Counter/Counter_Win32.png" width="466"></p>
<p>&nbsp;</p>
<p><span class="table_title">[プログラムソース（抜粋）]</span></p>

<pre class="prettyprint linenums lang-cpp"><code>// Windows ヘッダー ファイル:
#include &lt;windows.h&gt;
#include &lt;windowsx.h&gt;       // SetWindowFont

// C ランタイム ヘッダー ファイル
#include &lt;stdlib.h&gt;
#include &lt;malloc.h&gt;
#include &lt;memory.h&gt;
#include &lt;tchar.h&gt;          // _tWinMain, _T

#include &quot;Resource.h&quot;


/*=========*/
/* #define */
/*=========*/
#define USE_SEND_MESSAGE    // DlgProc 内で使用。機能実装方法の分岐に使用。


// グローバル変数:
int count = 0 ;

// このコード モジュールに含まれる関数の宣言を転送します
LRESULT CALLBACK DlgProc(HWND, UINT, WPARAM, LPARAM);


int APIENTRY _tWinMain(HINSTANCE hCurInst,
                      HINSTANCE hPrevInst,
                      LPTSTR lpsCmdLine,
                      int nCmdShow)
{
    UNREFERENCED_PARAMETER(hPrevInst);
    UNREFERENCED_PARAMETER(lpsCmdLine);

    DialogBox(hCurInst, MAKEINTRESOURCE(IDD_DIALOG1), NULL, (DLGPROC)DlgProc);
    return 0;
}


LRESULT CALLBACK DlgProc(HWND hWnd, UINT msg, WPARAM wp, LPARAM lp)
{
    static HFONT font1 ;                    // IDC_EDIT1 用のフォント
    static const int nCountMin =  0 ;       // カウンタ値 下限値
    static const int nCountMax = 10 ;       // カウンタ値 上限値


    switch (msg) {
    case WM_DESTROY:
        break ;

    case WM_CLOSE:
        if (MessageBox(
            hWnd,
            (LPCTSTR)_T(&quot;プログラムを終了してよろしいですか？&quot;),
            (LPCTSTR)_T(&quot;終了確認&quot;),
            MB_YESNO | MB_ICONQUESTION) == IDNO)
        {
            // プログラムを終了しない
            return FALSE;
        }

        // プログラムを終了する
        EndDialog(hWnd, IDOK);
        return TRUE ;

    case WM_INITDIALOG:

        /* IDC_EDIT1 のフォントを変更 */
        {

            // フォント作成
            int PointSize = 36 ;    // 36pt のフォントを作成します。
            font1 = CreateFont(
                -MulDiv(PointSize, GetDeviceCaps(GetDC(hWnd), LOGPIXELSY), 72),
                0,                          // nWidth
                0,                          // nEscapement
                0,                          // nOrientation
                FW_NORMAL,                  // nWeight
                FALSE,                      // bItalic
                FALSE,                      // bUnderline
                0,                          // cStrikeOut
                ANSI_CHARSET,               // nCharSet
                OUT_DEFAULT_PRECIS,         // nOutPrecision
                CLIP_DEFAULT_PRECIS,        // nClipPrecision
                DEFAULT_QUALITY,            // nQuality
                DEFAULT_PITCH | FF_SWISS,   // nPitchAndFamily
                _T(&quot;Arial&quot;));               // lpszFacename

            /* フォントをコントロールへ設定 */
            /*
            ===============================================================================
                補足説明：
                    API SetWindowsFont は windowsx.h 内でマクロ定義されています。
                    下記２つの実装は、表現上は異なりますが、マクロを展開すると
                    同じ内容になります。
            ===============================================================================
            */
#ifdef USE_SEND_MESSAGE
            // IDC_EDIT1
            SendMessage( GetDlgItem( hWnd, IDC_EDIT1 ), WM_SETFONT, (WPARAM)font1, (LPARAM)1);
#else
            // IDC_EDIT1
            SetWindowFont( GetDlgItem( hWnd, IDC_EDIT1 ), font1, TRUE );
#endif
        }

        // count を初期状態に
        {
            count = 0 ;
            SetDlgItemInt( hWnd, IDC_EDIT1, count, TRUE );

            EnableWindow( GetDlgItem(hWnd, IDC_INCREMENT), TRUE);
            EnableWindow( GetDlgItem(hWnd, IDC_DECREMENT), FALSE);
        }
        return TRUE;

    case WM_COMMAND:
        switch (GET_WM_COMMAND_ID(wp, lp)) {
        case IDOK:
            SendMessage( hWnd, WM_CLOSE, 0, 0 );
            return TRUE;

        case IDC_INCREMENT:
            count++ ;
            SetDlgItemInt( hWnd, IDC_EDIT1, count, TRUE );

            if ( count==nCountMax ){
                EnableWindow( GetDlgItem(hWnd, IDC_INCREMENT), FALSE);
            }
            if ( count!=nCountMin ){
                EnableWindow( GetDlgItem(hWnd, IDC_DECREMENT), TRUE);
            }
            return TRUE;

        case IDC_DECREMENT:
            count-- ;
            SetDlgItemInt( hWnd, IDC_EDIT1, count, TRUE );

            if ( count!=nCountMax ){
                EnableWindow( GetDlgItem(hWnd, IDC_INCREMENT), TRUE);
            }
            if ( count==nCountMin ){
                EnableWindow( GetDlgItem(hWnd, IDC_DECREMENT), FALSE);
            }
            return TRUE;

        case IDC_CLEAR:
            count = 0 ;
            SetDlgItemInt( hWnd, IDC_EDIT1, count, TRUE );

            EnableWindow( GetDlgItem(hWnd, IDC_INCREMENT), TRUE);
            EnableWindow( GetDlgItem(hWnd, IDC_DECREMENT), FALSE);
            return TRUE;

        default:
            break;
        }
        break;

    default:
        break;
    }

    return FALSE;
}</code></pre>

<br>
<p> 「Win32 DialogBox」の雛形に使えそうなプログラムです。</p>
<p> なお、Windows XP 
以降のコモンコントロールを使用するためにはマニュフェストでコモンコントロールのバージョン情報を記載する必要があるそうです。以下のマニュフェストを準備し、コモンコントロールのバージョンを 
6.0.0.0 で指定します。<br>このマニュフェストが無いとビジュアル的に古い感じのダイアログになってしまいます。</p>

<pre class="prettyprint linenums lang-cpp"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;
&lt;assembly xmlns=&quot;urn:schemas-microsoft-com:asm.v1&quot; manifestVersion=&quot;1.0&quot;&gt;
&lt;assemblyIdentity
  version=&quot;1.0.0.0&quot;
  processorArchitecture=&quot;X86&quot;
  name=&quot;CounterWin32.exe&quot;
/&gt;
&lt;description&gt;.NET control deployment tool&lt;/description&gt;
&lt;dependency&gt;
  &lt;dependentAssembly&gt;
<span class="auto-style9">    &lt;assemblyIdentity</span>
<span class="auto-style9">      type=&quot;win32&quot;</span>
<span class="auto-style9">      name=&quot;Microsoft.Windows.Common-Controls&quot;</span>
<span class="auto-style9">      version=&quot;6.0.0.0&quot;</span>
<span class="auto-style9">      processorArchitecture=&quot;X86&quot;</span>
<span class="auto-style9">      publicKeyToken=&quot;6595b64144ccf1df&quot;</span>
<span class="auto-style9">      language=&quot;*&quot;</span>
<span class="auto-style9">    /&gt;</span>
  &lt;/dependentAssembly&gt;
&lt;/dependency&gt;
&lt;/assembly&gt;</code>
</pre>

<p> &nbsp;</p>
<p> 以上です。</p>
<p> &nbsp;</p>
<p> &nbsp;</p>

<h3> <a name="プログラムダウンロード">プログラムダウンロード</a></h3>
<p> 作成したプログラムを下記からダウンロードできます。</p>
<p> &nbsp;</p>
<p> (1) Visual Studio 2008 版</p>
<p><a href="Counter/Counter_Win32_Dialog_vs2008.zip">サンプルプログラム ダウンロード (vs2008)</a></p>
<p>(2) Visual Studio 2012 版</p>
<p><a href="Counter/Counter_Win32_Dialog_vs2012.zip">サンプルプログラム ダウンロード (vs2012)</a></p>

<p>&nbsp;</p>
<p>&nbsp;</p>

<section>
  <h2><a id="ライセンス">ライセンス</a></h2>
<p>本ページの情報は、特記無い限り下記 MIT ライセンスで提供されます。</p>
<div class="license">
The MIT License (MIT)<br><br>

Copyright © 2012-2022 Kinoshita Hidetoshi<br><br>

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:<br><br>

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.<br><br>

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
</div>
  <p>&nbsp;</p>
</section>

<br>

<section>
	<h2><a id="参考">参考</a></h2>
	<ul>
		<li></li>
	</ul>
</section>

<p>&nbsp;</p>

<hr>

<p>&nbsp;</p>

<section>
	<h2 style="margin-bottom:5px">変更履歴</h2>
	<table>
	  <tr>
	    <td class="td_history_date">2022-11-21</td>
	    <td class="td_history_separator">-</td>
	    <td class="td_history">ページデザイン更新</td>
	  </tr>
	  <tr>
	    <td class="td_history_date">2013-01-02</td>
	    <td class="td_history_separator">-</td>
	    <td class="td_history">更新</td>
	  </tr>
	  <tr>
	    <td class="td_history_date">2012-05-16</td>
	    <td class="td_history_separator">-</td>
	    <td class="td_history">新規作成 </td>
	  </tr>
	</table>
</section>

<p>&nbsp;</p>

<section>
<p><a href="../../index.html" target="_parent">Programming Items トップページ</a></p>
<p><a href="../../privacy_policy.html">プライバシーポリシー</a></p>
</section>

<p>&nbsp;</p>

<footer>
	<p><small>Copyright © 2012-2022 Kinoshita Hidetoshi (木下英俊)</small></p>
</footer>

<p>&nbsp;</p>
</body>
</html>
